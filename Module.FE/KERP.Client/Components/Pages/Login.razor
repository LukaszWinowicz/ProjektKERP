@page "/login"
@using KERP.Client.Services.Auth
@inject IJSRuntime JSRuntime
@inject IdentityProviderService IdentityProvider

<div class="login-container">
    <div class="login-card">
        <img src="images/kerp-login-logo.png" alt="KERP" class="logo" />
        <div class="message-container">
            <div class="message warning">
                <span class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="red" viewBox="0 0 24 24" width="24px" height="24px">
                        <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" />
                    </svg>
                </span>
                <span>To view this page, log in.</span>
            </div>
        </div>
        <button class="google-login-button" @onclick="IdentityProvider.AuthenticateWithGoogle">
            <span class="google-logo-container">
                <img src="images/google-logo.svg" alt="Google logo" />
            </span>
            <span class="button-text">Sign in with Google</span>
        </button>
    </div>
</div>

@code {
    private async Task HandleGoogleLogin()
    {
        await JSRuntime.InvokeVoidAsync("alert", "Przycisk logowania Google działa!");
    }
}


<style>
    .login-container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 80vh;
        /* background-color: #f5f5f5; */
    }

    .login-card {
        background-color: white;
        padding: 3rem;
        border-radius: 8px;
        box-shadow: 2px 2px 2px 4px rgba(0.1, 0.1, 0.1, 0.1);
        text-align: center;
        width: 400px;
        max-width: 90%;
    }

    .logo {
        width: 120px;
        margin-bottom: 1.5rem;
    }

    h1 {
        font-size: 1.75rem;
        margin-bottom: 1.5rem;
    }

    .message-container {
        margin-bottom: 1.5rem;
    }

    .message {
        background-color: #fff4f4;
        border: 1px solid #ffcccb;
        border-radius: 4px;
        padding: 0.75rem;
        display: flex;
        align-items: center;
    }

        .message .icon {
            margin-right: 0.75rem;
            font-size: 1.25rem;
        }

    .google-login-button {
        display: flex;
        align-items: center;
        background-color: #4285F4;
        color: white;
        border: none;
        border-radius: 2px;
        padding: 2px; /* Zwiększony padding */
        cursor: pointer;
        font-size: 16px;
        font-weight: 500;
        font-family: 'Roboto', sans-serif;
        text-align: center;
        width: 100%;
        max-width: 280px;
        margin: 0 auto;
        height: 40px;
    }

    .google-logo-container {
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: white;
        padding: 6px; /* Zmniejszony padding */
        border-radius: 2px;
        height: calc(100% - 4px); /* Dostosowana wysokość */
        margin: 2px; /* Dodany margines */
    }

    .google-login-button img {
        width: 18px; /* Zmniejszony rozmiar logo Google */
        height: 18px;
    }

    .button-text {
        flex-grow: 1;
        padding: 8px 0;
    }
</style>